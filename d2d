#!/bin/bash

# d2d Command Line Tool
# Usage: d2d [command]

# Print usage information
usage() {
  echo "Usage: d2d [command]"
  echo ""
  echo "Commands:"
  echo "  shutdown    Run the shutdown.sh script"
  echo "  startup     Run the startup.sh script"
  echo "  init        Run the config.sh script"
  echo "  exec        Run the exec.sh script"
  echo "  help        Display this help message"
}

# Check if a command is provided
if [ -z "$1" ]; then
  echo "Error: No command provided."
  usage
  exit 1
fi

# Define the commands
case "$1" in
  shutdown)
    ./shutdown.sh
    ;;
  startup)
    ./startup.sh
    ;;
  init)
    ./config.sh
    ;;
  exec)
    ./exec.sh
    ;;
  help)
    usage
    ;;
  *)
    echo "Error: Invalid command."
    usage
    exit 1
    ;;
esac

# DOCUMENTATION:
# 1. **Script Purpose**:
#    - This script serves as a command-line tool for managing DHIS2 Docker containers. It provides commands to initialize, start up, shut down, and execute specific tasks for DHIS2 setup.
#
# 2. **Command Descriptions**:
#    - `shutdown`: Executes the `shutdown.sh` script to stop the DHIS2 Docker containers.
#    - `startup`: Executes the `startup.sh` script to start the DHIS2 Docker containers.
#    - `init`: Executes the `config.sh` script to initialize the DHIS2 Docker configuration.
#    - `exec`: Executes the `exec.sh` script to perform specific execution tasks within the DHIS2 Docker containers.
#    - `help`: Displays usage information and a list of available commands.
#
# 3. **Usage Instructions**:
#    - To use this tool, provide one of the available commands as an argument when running the script. For example: `./d2d startup`.
#    - If no command is provided or an invalid command is used, the script will display an error message along with the usage information.
#
# 4. **Error Handling**:
#    - If no command is provided, the script will print an error message and display the usage information.
#    - If an invalid command is provided, the script will print an error message and display the usage information.
#
# 5. **Example Usage**:
#    - To start up the DHIS2 Docker containers: `./d2d startup`
#    - To shut down the DHIS2 Docker containers: `./d2d shutdown`
#    - To initialize the DHIS2 Docker configuration: `./d2d init`
#    - To execute specific tasks within the DHIS2 Docker containers: `./d2d exec`
#    - To display the help message: `./d2d help`
#
# 6. **Important Notes**:
#    - Ensure that the corresponding scripts (`shutdown.sh`, `startup.sh`, `config.sh`, `exec.sh`) are available in the same directory as the `d2d` script.
#    - Modify the `d2d` script as needed to fit your specific project requirements and directory structure.
#
# 7. **Expected Output**:
#    - The script will execute the corresponding command and script based on the provided argument, performing the necessary actions for managing DHIS2 Docker containers.
